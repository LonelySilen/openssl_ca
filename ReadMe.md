--------
基于OpenSSL的证书中心
===================

--------

###项目概要

**OpenSSL_CA**使用C++语言编写，开发框架为QT，支持跨平台       
程序使用OpenSSL提供的**include文件**以及**lib库**      
目前已完成具备基本操作的1.0版本，正在重写2.0版本

--------

###目前情况

**已经完成的内容:**

> - 证书请求文件的生成
> - 文件传输功能（内网）
> - 根证书对请求文件签名，验证及撤销发布证书
> - 恢复被撤销的证书
> - 初步将根证书签名整合至2.0版本
> - 用户申请证书时可选择密钥对的bits长度
> - 基本完善工程目录结构

**现在存在的问题:**

> - **V1.0**：   
1.  在X509中没有找到相应修改文件路径的函数，在使用中生成的文件都存放在opensslca.exe同级目录下，无法组织合理的文件结构       
2.  生成证书请求文件时，大部分函数返回值没有进行判断或没有合理的返回操作，导致代码健壮性不足，无法获取相应的错误判断，程序崩溃时无法快速定位错误位置
3.  存在函数功能重合，变量定义冗余情况
4.  没有规范代码命名规则，注释不全

> - **V2.0**：  
1.   在2.0版本中分离了客户端和CA中心服务器，目前只完成了文件传输操作，在传输初始时未实现数字信封
2.   客户端仅对部分输入框进行了正则规范
3.   ...

**接下来的工作：**

> - 在V1.0的基础上重写V2.0版本
> - 继续完善注释、变量及函数规范
> - 调整界面布局
> - 完成V2.0版本CA服务器剩余功能

---------

###规则说明
####代码规范
**命名**
> - 函数
1.   除系统自动生成的槽函数外，所有函数使用**驼峰命名法**，建议由两个或以上的单词缩写组成。    
     首个单词全部小写，其余部分首字母大写。并且尽量简洁精准的表达函数功能。    
     函数统一在对应的头文件中声明，行末加一个空格或与上下函数注释对其并写明简要功能注释。    
     两个不同的函数声明之间空一行。
2.   在函数具体实现部分，起始位置**写明函数名称、参数、返回值以及功能**，并对其功能进行大体描述，并标记修改日期。    
     合作开发时如对函数进行修改则在修改部分标记修改者信息及时间，且必需确定功能运行完备。
> - 类或结构体
1.   所有类命名组成**单词首字母大写**，其余要求参考函数要求
> - 变量
1.   **全局变量**定义在对应的头文件中，并且在头文件中标明使用变量的源文件，如多个源文件使用该变量则标记为公共变量。    
     变量命名原则上使用单个单词、单词缩写或其组合，可以使用驼峰或下划线组合命名。    
     变量行末加一个空格写明注释。由于变量名称长度接近，在注释时以最长的变量名为基准，**所有注释对齐**。    
     同一源文件中使用到的变量声明之间不空行。
2.   **局部变量**定义在相应的函数中，使用时对命名无具体要求，但需要做出注释。    
     其余要求参考全局变量要求    
3.   **变量赋值**根据函数具体要求对变量进行赋值操作，**不允许**出现没有赋初值的变量。赋值行末加一个空格并写明注释。
> - UI对象
1.   原则上对ui object修改合适的名称
> - 其他
...

**代码健壮性**
> - 返回值
1.   对非void型函数的返回值进行判断，判断内容与函数实现部分的注释相符合。
2.   尽可能多的考虑返回情况，对返回值的接收输出相应的信息，返回多种错误时使用switch-case进行说明，利于确定错误位置。
3.   ...

--------


###错误排除

> **可能遇到的问题**

> - **编译时可能遇到的问题**
1.   由于qt的xx.pro项目文件中引入openssl/include与/lib使用了绝对路径，可能导致复制的代码在构建时无法找到对应的目录    
**解决方法：**使用相同的格式将xx.pro文件中关于该引用的三行代码自行改为对应的正确路径，重新构建项目    

> - **运行时可能遇到的问题**
1.   在构思工程目录结构完毕后，将所有代码中使用的目录都以全局变量与局部变量组合的方式完成，在选择文件时更改目录可能引发程序崩溃
2.   如果出现程序提示生成用户证书及私钥却无法在文件夹中找到，可能因为不存在这个文件夹，自行添加即可

> - **windows中证书文件打开**
1.   经过测试，用户提交512bits证书请求时，生成的crt证书文件在windows证书浏览窗中提示无效签名，改用1024或2048bits生成请求文件即可

> - **预留**
1.   ...

---------